# 02-microservices-individual-tasks-Maxwahl

## Documentation - Librarian

The Librarian is a microservice that wraps the microservice of exercise 1 and provides an API to make ReST-calls to the Library (Exercise 1).
It uses the Quarkus-Smallrye ReST-Client and has built in Metrics,Health and Fault Tolerance.

## Examples

### Metrics

```java
    @Counted(name = "performedChecks", description = "How many rest requests have been performed.")
```

This Metric counts the amount of times a certain method gets called.

### Fault Tolerance

Fault Tolerance in general describes expected behaviour in and the conditions of false or exceptional states

```java
    @Fallback(fallbackMethod = "noLoans")
```

This annotation describes the method that should be called if an error occurs during execution of the annotated method

```java
    @CircuitBreaker(failureRatio = 0.75,requestVolumeThreshold = 4,delay = 1,delayUnit = ChronoUnit.SECONDS)
```

This annotation describes when a method call is broken and should be reevaluated.
If 75% of 4 calls fail, the microservice should wait 1 second before calling this method again

## Running

### Opening the Library

In order to open the Library you have to:

Follow the instructions provided here:

<a href="https://github.com/1920-5bhif-nvs/01-assignment-quarkus-jpa-Maxwahl#running-the-project">Exercise 1</a>

### Employing a Librarian

In order to employ the Librarian you have to:

1. Build and run the Librarian:
    * buildlibrarian.sh
    * runlibrarian.sh

## Maintaining and Managing Multiple Microservices

### Prometheus

Prometheus is a tool that helps visualize and bring sense to metric data heaps generated by JakartaEE applications.

Prometheus allows the user to graph out all available metrics of a certain application and have certain metrics be available as a dashboard.

Prometheus also has the ability to send out alerts if certain aspects of a system break or if a metric exceeds or reaches a certain value.

### Istio

Istio is a service tool for so called service meshes - a lot of microservices that rely on each other communcating with each other.

Istio is available for most cloud-deployment platforms such as k8s or Azure.

Istio allows users to manage traffic, set up security for the service mesh and also provides possibilities to trace method calls, monitor network usage and utilize cross-service logging
